<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Trust Me; I Promise!"><title>show_notes::e027 - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-dd39b87e5fcfba68.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="show_notes" data-themes="" data-resource-suffix="" data-rustdoc-version="1.81.0-nightly (f8e566053 2024-06-14)" data-channel="nightly" data-search-js="search-0fe7219eb170c82e.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="icon" href="https://newrustacean.com/favicon.ico"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../show_notes/index.html"><img src="https://newrustacean.com/podcast.png" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../show_notes/index.html"><img src="https://newrustacean.com/podcast.png" alt="logo"></a><h2><a href="../../show_notes/index.html">show_notes</a><span class="version">0.3.1</span></h2></div><h2 class="location"><a href="#">Module e027</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li></ul></section><h2><a href="../index.html">In crate show_notes</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">show_notes</a>::<wbr><a class="mod" href="#">e027</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/show_notes/e027.rs.html#1-280">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Trust Me; I Promise!</p>
<ul>
<li><strong>Date:</strong> November 30, 2018</li>
<li><strong>Subject:</strong> An intro to <code>unsafe</code> Rust and Rust’s idea of safety.</li>
<li><a href="https://www.podtrac.com/pts/redirect.mp3/cdn.newrustacean.com/file/newrustacean/e027.mp3"><strong>download mp3</strong></a></li>
<li><a href="https://newrustacean.com/show_notes/e027/struct.script"><strong>script</strong></a></li>
</ul>
<p><audio style="width: 100%" title="News: Rust 1.29 and 1.30" controls preload=metadata src="https://www.podtrac.com/pts/redirect.mp3/cdn.newrustacean.com/file/newrustacean/e027.mp3"></audio></p>
<h3 id="show-notes"><a class="doc-anchor" href="#show-notes">§</a>Show Notes</h3><h4 id="errata"><a class="doc-anchor" href="#errata">§</a>Errata</h4>
<p>A quick correction: on the show I said that a trait needed to be unsafe when
it had an <code>unsafe fn</code> method. This isn’t correct: safe traits can have
unsafe methods, and unsafe traits can exist without any methods at all (as
implied by my reference to <code>Send</code> and <code>Sync</code>). You can see this in practice
in the following example, which compiles just fine!</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">trait </span>ASafeTrait {
    <span class="kw">unsafe fn </span>unsafe_method() {}
}

<span class="kw">unsafe trait </span>AnUnsafeTrait {}</code></pre></div>
<p>The idea of an <code>unsafe</code> trait is that it has some conditions which you must
uphold to safely implement it – again, just as with <code>Send</code> and <code>Sync</code>. In
the case of most traits, this will be because some trait method has
invariants it needs to hold else it would cause undefined behavior. For
another example of this, see the (unstable as of the time of recording)
trait <a href="https://doc.rust-lang.org/nightly/std/iter/trait.TrustedLen.html"><code>std::iter::TrustedLen</code></a>.</p>
<p>Thanks to Rust language team member <a href="https://github.com/centril">@centril</a> for noting this to me after
listening when I was recording the show live!</p>
<h4 id="links"><a class="doc-anchor" href="#links">§</a>Links</h4>
<ul>
<li><a href="https://doc.rust-lang.org/book/2018-edition/ch19-01-unsafe-rust.html"><em>The Rust Programming Language</em>, Chapter 19: Unsafe</a></li>
<li><a href="https://doc.rust-lang.org/nomicon/README.html">The Nomicon</a></li>
<li><a href="http://nercury.github.io/rust/opengl/tutorial/2018/02/08/opengl-in-rust-from-scratch-00-setup.html">“Rust and OpenGL from Scratch”, by Nerijus Arlauskas</a></li>
</ul>
<h4 id="examples"><a class="doc-anchor" href="#examples">§</a>Examples</h4><h5 id="borrow-checked-code-in-unsafe"><a class="doc-anchor" href="#borrow-checked-code-in-unsafe">§</a>Borrow-checked code in <code>unsafe</code></h5>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span><span class="kw-2">mut </span>f = String::from(<span class="string">"foo"</span>);

<span class="kw">unsafe </span>{
    <span class="kw">let </span>borrowed = <span class="kw-2">&amp;mut </span>f;

    <span class="comment">// This would be unsafe and throw an error (before Rust 2018):
    // let borrow_again = &amp;f;

    </span><span class="macro">println!</span>(<span class="string">"{}"</span>, borrowed);

    <span class="comment">// This would be unsafe and throw an error:
    // println!("{}", borrow_again);
</span>}</code></pre></div>
<p><a href="https://play.rust-lang.org/?version=beta&amp;mode=release&amp;edition=2018&amp;gist=38d1089cdc3a4148609e9e3bbbfd002c">(See it in a playground)</a></p>
<h6 id="safely-mutating-a-raw-pointer"><a class="doc-anchor" href="#safely-mutating-a-raw-pointer">§</a>Safely mutating a raw pointer</h6>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>f = Box::new(<span class="number">12</span>);
<span class="kw">let </span><span class="kw-2">mut </span>g = Box::into_raw(f);
g = <span class="kw-2">&amp;mut </span><span class="number">10</span>;</code></pre></div>
<p><a href="https://play.rust-lang.org/?version=stable&amp;mode=debug&amp;edition=2015&amp;gist=3a7a9facd0f67d4a590afc3a3ecef95b">(See it in a playground)</a></p>
<h3 id="sponsors"><a class="doc-anchor" href="#sponsors">§</a>Sponsors</h3>
<p>Thanks to Parity for sponsoring the show again. Go check out their <a href="https://paritytech.io/jobs/"><em><strong>Rust
jobs</strong></em></a>!</p>
<h4 id="patreon-sponsors"><a class="doc-anchor" href="#patreon-sponsors">§</a>Patreon Sponsors</h4>
<ul>
<li>Adam Green</li>
<li>Aleksey Pirogov</li>
<li>Alexander Payne</li>
<li>Alexander Kryvomaz</li>
<li>Andrew Thompson</li>
<li><a href="https://github.com/adeschamps">Anthony Deschamps</a></li>
<li>Anthony Scotti</li>
<li><a href="https://github.com/behnam">Behnam Esfahbod</a></li>
<li>Benjamin Wasty</li>
<li>Brandon ‘Spanky’ Mills</li>
<li>Brian Casiello</li>
<li>Brian Manning</li>
<li><a href="https://skife.org/">Brian McCallister</a></li>
<li><a href="http://www.stitthappens.com/">Bryan Stitt</a></li>
<li>Bryce Johnston</li>
<li>Caryn Finkelman</li>
<li>Cass Costello</li>
<li>Chap Lovejoy</li>
<li><a href="https://charlieegan3.com">Charlie Egan</a></li>
<li>Chip</li>
<li><a href="http://red-oxide.org/">Chris Palmer</a></li>
<li>Daniel</li>
<li>Dan Abrams</li>
<li>Daniel Bross</li>
<li><a href="https://twitter.com/daniel_collin">Daniel Collin</a></li>
<li><a href="https://github.com/gisleburt">Daniel Mason</a></li>
<li>David Hewson</li>
<li><a href="https://twitter.com/derekmorr">Derek Morr</a></li>
<li>Doug Reeves</li>
<li>Eugene Bulkin</li>
<li>Fábio Botelho</li>
<li><a href="https://twitter.com/gaveen">Gaveen Prabhasara</a></li>
<li><a href="https://wihlidal.com/">Graham Wihlidal</a></li>
<li><a href="https://hsivonen.fi/">Henri Sivonen</a></li>
<li><a href="https://www.ianmjones.com/">Ian Jones</a></li>
<li>“Jake ““ferris”“ Taylor“</li>
<li>Jako Danar</li>
<li>James Cooper</li>
<li>James Hagans II</li>
<li>Jerome Froelich</li>
<li><a href="http://github.com/joar">Joar Wandborg</a>: Joar Wandborg</li>
<li><a href="http://www.cindur.com/">John Rudnick</a></li>
<li>Jon</li>
<li><a href="https://www.coffeeandcode.com/">Jonathan Knapp</a></li>
<li>Jonathan Turner</li>
<li>Joseph Hain</li>
<li>Joseph Marhee</li>
<li>Justin Ossevoort</li>
<li>Kai Yao</li>
<li>Keith Gray</li>
<li>Kilian Rault</li>
<li>Lee Jenkins</li>
<li>Luca Schmid</li>
<li><a href="http://luizirber.org/">Luiz Irber</a></li>
<li>Lukas Eller</li>
<li><a href="https://github.com/epsilonhalbe">Martin Heuschober</a></li>
<li>Masashi Fujita</li>
<li>Matt Rudder</li>
<li>Matthew Brenner</li>
<li>Matthias Ruszala</li>
<li><a href="https://twitter.com/maxjacobson">Max Jacobson</a></li>
<li>Max R.R. Collada</li>
<li><a href="https://github.com/messense">Messense Lv</a></li>
<li>Micael Bergeron</li>
<li><a href="https://www.linkedin.com/in/michaelmcdonnell/">Michael Mc Donnell</a></li>
<li>Michael Sanders</li>
<li><a href="http://influential.co/">Nathan Sculli</a></li>
<li><a href="http://github.com/ncoish">Nick Coish</a></li>
<li>Nick Gideo</li>
<li><a href="https://github.com/nastevens">Nick Stevens</a></li>
<li><a href="https://github.com/n-pochet">Nicolas Pochet</a></li>
<li>Olaf Leidinger</li>
<li>Oliver Uvman</li>
<li><a href="http://oluseyi.info/">Oluseyi Sonaiya</a></li>
<li>Ovidiu Curcan</li>
<li><a href="https://pascalhertleif.de/">Pascal</a></li>
<li><a href="https://twitter.com/patrickod">Patrick O’Doherty</a></li>
<li>Paul Naranja</li>
<li>Paul Osborne</li>
<li>Peter Scholtens</li>
<li>Peter Tillemans</li>
<li>Ralph Giles</li>
<li><a href="http://www.inosion.com">Ramon Buckland</a></li>
<li>Randy MacLeod</li>
<li>Raph Levien</li>
<li>Richard Dallaway</li>
<li>Rob Tsuk</li>
<li>Robert Chrzanowski</li>
<li><a href="http://notryanb.github.io/">Ryan Blecher</a></li>
<li><a href="https://github.com/osialr">Ryan Osial</a></li>
<li>Scott Moeller</li>
<li><a href="https://www.twitter.com/sebasmagri">Sebastián Ramírez Magrí</a></li>
<li><a href="https://www.simonhdickson.com/">Simon Dickson</a></li>
<li>Simon G</li>
<li><a href="https://www.ntnu.edu/employees/steffen.sunde">Steffen Loen Sunde</a></li>
<li>Steve Jenson</li>
<li>Steven Knight</li>
<li>Steven Murawski</li>
<li><a href="http://stuarth.github.io/">Stuart Hinson</a></li>
<li>Tim Brooks</li>
<li>Tim Süberkrüb</li>
<li>Tom Prince</li>
<li>Toolmaker’s Guild</li>
<li>Ty Overby</li>
<li>Tyler Harper</li>
<li>Victor Kruger</li>
<li>Will Greenberg</li>
<li><a href="http://willroe.me">William Roe</a></li>
<li>Zak van der Merwe</li>
<li>Zachary Snyder</li>
<li>Zaki</li>
</ul>
<p>(Thanks to the couple people donating who opted out of the reward tier, as
well. You know who you are!)</p>
<h4 id="become-a-sponsor"><a class="doc-anchor" href="#become-a-sponsor">§</a>Become a sponsor</h4>
<ul>
<li><a href="https://www.patreon.com/newrustacean" rel="payment">Patreon</a></li>
<li><a href="https://venmo.com/chriskrycho">Venmo</a></li>
<li><a href="https://www.dwolla.com/hub/chriskrycho">Dwolla</a></li>
<li><a href="https://cash.me/$chriskrycho">Cash.me</a></li>
<li><a href="https://flattr.com/profile/chriskrycho">Flattr</a></li>
<li><a href="https://paypal.me/chriskrycho">PayPal.me</a></li>
</ul>
<h3 id="contact"><a class="doc-anchor" href="#contact">§</a>Contact</h3>
<ul>
<li>New Rustacean:
<ul>
<li>Twitter: <a href="https://www.twitter.com/newrustacean">@newrustacean</a></li>
<li>Email: <a href="mailto:hello@newrustacean.com">hello@newrustacean.com</a></li>
</ul>
</li>
<li>Chris Krycho
<ul>
<li>GitHub: <a href="https://github.com/chriskrycho">chriskrycho</a></li>
<li>Twitter: <a href="https://www.twitter.com/chriskrycho">@chriskrycho</a></li>
</ul>
</li>
</ul>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Script.html" title="struct show_notes::e027::Script">Script</a></div><div class="desc docblock-short">e027: I Promise; Trust Me</div></li></ul></section></div></main><link rel="stylesheet" href="/media-playback.css">
<script type="text/javascript" src="/media-playback.js" defer></script>


</body></html>